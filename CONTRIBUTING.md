# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹AI Notesé¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä»£ç ã€æ–‡æ¡£ã€è®¾è®¡è¿˜æ˜¯å»ºè®®ã€‚

## ğŸ¤ å¦‚ä½•è´¡çŒ®

### æŠ¥å‘ŠBug

å¦‚æœæ‚¨å‘ç°äº†Bugï¼Œè¯·åˆ›å»ºä¸€ä¸ªIssueå¹¶åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **Bugæè¿°**ï¼šæ¸…æ™°æè¿°é‡åˆ°çš„é—®é¢˜
2. **å¤ç°æ­¥éª¤**ï¼šè¯¦ç»†çš„å¤ç°æ­¥éª¤
3. **é¢„æœŸè¡Œä¸º**ï¼šè¯´æ˜æ‚¨æœŸæœ›çš„æ­£ç¡®è¡Œä¸º
4. **å®é™…è¡Œä¸º**ï¼šæè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µ
5. **ç¯å¢ƒä¿¡æ¯**ï¼š
   - æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
   - Flutterç‰ˆæœ¬
   - è®¾å¤‡ä¿¡æ¯ï¼ˆå¦‚æœæ˜¯ç§»åŠ¨ç«¯ï¼‰
   - æµè§ˆå™¨ç‰ˆæœ¬ï¼ˆå¦‚æœæ˜¯Webç«¯ï¼‰
6. **æˆªå›¾æˆ–æ—¥å¿—**ï¼šå¦‚æœé€‚ç”¨ï¼Œè¯·æä¾›ç›¸å…³æˆªå›¾æˆ–é”™è¯¯æ—¥å¿—

### åŠŸèƒ½å»ºè®®

æˆ‘ä»¬æ¬¢è¿æ–°åŠŸèƒ½çš„å»ºè®®ï¼è¯·åˆ›å»ºä¸€ä¸ªIssueå¹¶åŒ…å«ï¼š

1. **åŠŸèƒ½æè¿°**ï¼šæ¸…æ™°æè¿°å»ºè®®çš„åŠŸèƒ½
2. **ä½¿ç”¨åœºæ™¯**ï¼šè¯´æ˜è¿™ä¸ªåŠŸèƒ½çš„åº”ç”¨åœºæ™¯
3. **å®ç°æ–¹æ¡ˆ**ï¼šå¦‚æœæœ‰æƒ³æ³•ï¼Œå¯ä»¥æè¿°å¯èƒ½çš„å®ç°æ–¹æ¡ˆ
4. **ä¼˜å…ˆçº§**ï¼šè¯´æ˜è¿™ä¸ªåŠŸèƒ½å¯¹æ‚¨çš„é‡è¦ç¨‹åº¦

### æäº¤ä»£ç 

#### å¼€å‘ç¯å¢ƒè®¾ç½®

1. **Forké¡¹ç›®**
   ```bash
   # åœ¨GitHubä¸ŠForké¡¹ç›®åˆ°æ‚¨çš„è´¦æˆ·
   ```

2. **å…‹éš†ä»£ç **
   ```bash
   git clone https://github.com/YOUR_USERNAME/ai-notes.git
   cd ai-notes
   ```

3. **è®¾ç½®ä¸Šæ¸¸ä»“åº“**
   ```bash
   git remote add upstream https://github.com/ORIGINAL_OWNER/ai-notes.git
   ```

4. **å®‰è£…ä¾èµ–**
   ```bash
   cd ai_notes_flutter
   flutter pub get
   ```

#### å¼€å‘æµç¨‹

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **å¼€å‘ä»£ç **
   - éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
   - ç¼–å†™å¿…è¦çš„æµ‹è¯•
   - ç¡®ä¿ä»£ç è´¨é‡

3. **è¿è¡Œæµ‹è¯•**
   ```bash
   flutter test
   flutter analyze
   ```

4. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "feat: add your feature description"
   ```

5. **æ¨é€åˆ†æ”¯**
   ```bash
   git push origin feature/your-feature-name
   ```

6. **åˆ›å»ºPull Request**
   - åœ¨GitHubä¸Šåˆ›å»ºPull Request
   - å¡«å†™è¯¦ç»†çš„PRæè¿°
   - å…³è”ç›¸å…³çš„Issue

## ğŸ“ ä»£ç è§„èŒƒ

### Dartä»£ç è§„èŒƒ

æˆ‘ä»¬éµå¾ª[Dartå®˜æ–¹ä»£ç è§„èŒƒ](https://dart.dev/guides/language/effective-dart)ï¼š

#### å‘½åè§„èŒƒ

```dart
// ç±»åä½¿ç”¨PascalCase
class UserProfileScreen extends StatelessWidget {}

// æ–‡ä»¶åä½¿ç”¨snake_case
// user_profile_screen.dart

// å˜é‡å’Œæ–¹æ³•åä½¿ç”¨camelCase
String userName = 'John';
void updateUserProfile() {}

// å¸¸é‡ä½¿ç”¨lowerCamelCase
const int maxRetryCount = 3;

// ç§æœ‰æˆå‘˜ä»¥ä¸‹åˆ’çº¿å¼€å¤´
String _privateField;
void _privateMethod() {}
```

#### æ–‡ä»¶ç»„ç»‡

```dart
// å¯¼å…¥é¡ºåºï¼š
// 1. Dartæ ¸å¿ƒåº“
import 'dart:async';
import 'dart:math';

// 2. Flutteræ¡†æ¶
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';

// 3. ç¬¬ä¸‰æ–¹åŒ…
import 'package:riverpod/riverpod.dart';
import 'package:dio/dio.dart';

// 4. é¡¹ç›®å†…éƒ¨æ–‡ä»¶
import '../models/user.dart';
import '../services/api_service.dart';
```

#### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–æ‰€æœ‰ä»£ç 
flutter format .

# æ£€æŸ¥ä»£ç è´¨é‡
flutter analyze

# è¿è¡Œæµ‹è¯•
flutter test
```

### é¡¹ç›®ç»“æ„è§„èŒƒ

```
feature_name/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ datasources/          # æ•°æ®æºï¼ˆAPIã€æœ¬åœ°å­˜å‚¨ï¼‰
â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ repositories/        # ä»“åº“å®ç°
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entities/            # ä¸šåŠ¡å®ä½“
â”‚   â”œâ”€â”€ repositories/        # ä»“åº“æ¥å£
â”‚   â””â”€â”€ usecases/           # ç”¨ä¾‹
â””â”€â”€ presentation/
    â”œâ”€â”€ providers/          # çŠ¶æ€ç®¡ç†
    â”œâ”€â”€ screens/            # é¡µé¢
    â””â”€â”€ widgets/            # UIç»„ä»¶
```

### Gitæäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨[Conventional Commits](https://www.conventionalcommits.org/)è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

#### æäº¤ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bugä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

#### ç¤ºä¾‹

```bash
feat(auth): add user registration functionality

Add user registration form with email validation
and password strength checking.

Closes #123
```

## ğŸ§ª æµ‹è¯•æŒ‡å—

### å•å…ƒæµ‹è¯•

```dart
// test/features/auth/domain/usecases/sign_in_usecase_test.dart
import 'package:flutter_test/flutter_test.dart';
import 'package:mockito/mockito.dart';

void main() {
  group('SignInUseCase', () {
    late SignInUseCase useCase;
    late MockAuthRepository mockRepository;

    setUp(() {
      mockRepository = MockAuthRepository();
      useCase = SignInUseCase(mockRepository);
    });

    test('should return user when credentials are valid', () async {
      // arrange
      final email = 'test@example.com';
      final password = 'password123';
      final expectedUser = User(id: '1', email: email);
      
      when(mockRepository.signIn(email, password))
          .thenAnswer((_) async => Right(expectedUser));

      // act
      final result = await useCase(SignInParams(email, password));

      // assert
      expect(result, Right(expectedUser));
      verify(mockRepository.signIn(email, password));
    });
  });
}
```

### Widgetæµ‹è¯•

```dart
// test/features/auth/presentation/screens/login_screen_test.dart
import 'package:flutter/material.dart';
import 'package:flutter_test/flutter_test.dart';

void main() {
  testWidgets('LoginScreen should display login form', (tester) async {
    await tester.pumpWidget(
      MaterialApp(
        home: LoginScreen(),
      ),
    );

    expect(find.byType(TextField), findsNWidgets(2)); // Email and password
    expect(find.byType(ElevatedButton), findsOneWidget); // Login button
    expect(find.text('ç™»å½•'), findsOneWidget);
  });
}
```

### é›†æˆæµ‹è¯•

```dart
// integration_test/app_test.dart
import 'package:flutter/material.dart';
import 'package:flutter_test/flutter_test.dart';
import 'package:integration_test/integration_test.dart';

import 'package:ai_notes/main.dart' as app;

void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();

  group('end-to-end test', () {
    testWidgets('complete user flow', (tester) async {
      app.main();
      await tester.pumpAndSettle();

      // æµ‹è¯•ç™»å½•æµç¨‹
      await tester.tap(find.byKey(Key('login_button')));
      await tester.pumpAndSettle();

      // æµ‹è¯•åˆ›å»ºç¬”è®°
      await tester.tap(find.byKey(Key('create_note_fab')));
      await tester.pumpAndSettle();

      // éªŒè¯ç»“æœ
      expect(find.text('æ–°å»ºç¬”è®°'), findsOneWidget);
    });
  });
}
```

## ğŸ“‹ Pull Requestæ£€æŸ¥æ¸…å•

åœ¨æäº¤PRä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] ä»£ç éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
- [ ] æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡
- [ ] æ–°åŠŸèƒ½åŒ…å«ç›¸åº”çš„æµ‹è¯•
- [ ] æ–‡æ¡£å·²æ›´æ–°ï¼ˆå¦‚æœéœ€è¦ï¼‰
- [ ] æäº¤æ¶ˆæ¯éµå¾ªçº¦å®šæ ¼å¼
- [ ] PRæè¿°æ¸…æ™°ï¼ŒåŒ…å«å¿…è¦çš„ä¿¡æ¯
- [ ] å…³è”äº†ç›¸å…³çš„Issue

## ğŸ¯ ä¼˜å…ˆçº§æŒ‡å—

æˆ‘ä»¬æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§å¤„ç†è´¡çŒ®ï¼š

### é«˜ä¼˜å…ˆçº§
- å®‰å…¨æ¼æ´ä¿®å¤
- ä¸¥é‡Bugä¿®å¤
- æ ¸å¿ƒåŠŸèƒ½å®ç°

### ä¸­ä¼˜å…ˆçº§
- æ–°åŠŸèƒ½å¼€å‘
- æ€§èƒ½ä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒæ”¹è¿›

### ä½ä¼˜å…ˆçº§
- ä»£ç é‡æ„
- æ–‡æ¡£å®Œå–„
- å°çš„åŠŸèƒ½å¢å¼º

## ğŸ† è´¡çŒ®è€…è®¤å¯

æˆ‘ä»¬é‡è§†æ¯ä¸€ä¸ªè´¡çŒ®è€…çš„åŠªåŠ›ï¼š

- æ‰€æœ‰è´¡çŒ®è€…å°†åœ¨é¡¹ç›®READMEä¸­è¢«æåŠ
- é‡è¦è´¡çŒ®è€…å¯ä»¥è·å¾—é¡¹ç›®ç»´æŠ¤è€…æƒé™
- ä¼˜ç§€çš„è´¡çŒ®å°†åœ¨é¡¹ç›®ç¤¾åŒºä¸­è¢«ç‰¹åˆ«è¡¨å½°

## ğŸ“ è·å¾—å¸®åŠ©

å¦‚æœæ‚¨åœ¨è´¡çŒ®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**ï¼šé¦–å…ˆæŸ¥çœ‹é¡¹ç›®æ–‡æ¡£å’Œå¼€å‘æŒ‡å—
2. **æœç´¢Issue**ï¼šæŸ¥çœ‹æ˜¯å¦æœ‰ç±»ä¼¼çš„é—®é¢˜å·²ç»è¢«è®¨è®º
3. **åˆ›å»ºIssue**ï¼šå¦‚æœæ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„Issue
4. **è”ç³»ç»´æŠ¤è€…**ï¼šé€šè¿‡é‚®ä»¶æˆ–å…¶ä»–æ–¹å¼è”ç³»é¡¹ç›®ç»´æŠ¤è€…

## ğŸ™ æ„Ÿè°¢

æ„Ÿè°¢æ‚¨å¯¹AI Notesé¡¹ç›®çš„å…³æ³¨å’Œè´¡çŒ®ï¼æ¯ä¸€ä¸ªè´¡çŒ®éƒ½è®©é¡¹ç›®å˜å¾—æ›´å¥½ã€‚

---

Happy coding! ğŸš€
